var __quiq__;window.Quiq=new function(){var e,t,n,o,i,a,r,c,u=!1;function l(e,t){var n;try{(n=document.createElement("script")).src=e,n.async=!0,n.setAttribute("charset","UTF-8"),n.onload=t,n.onerror=function(){console.error("Quiq Bootloader: Error loading file "+e)},document.head.appendChild(n)}catch(t){console.error("Quiq Bootloader: Error loading file "+e)}}function s(e){var n;try{n=t[e.endpoint].apply(t,e.args)}catch(t){if("function"!=typeof e.reject)throw t;e.reject(t)}"function"==typeof e.resolve&&e.resolve(n)}function d(e,n,i){var a={endpoint:e,args:n};if(c)throw new Error("Unable to execute the API endpoint '"+e+"()'. Web Chat has been unloaded.");if(i)r||"object"!=typeof t||null===t?o.push(a):s(a);else{if("function"==typeof window.Promise)return new Promise((function(e,n){a.resolve=e,a.reject=n,r||"object"!=typeof t||null===t?o.push(a):s(a)}));console.error("Unable to execute the API endpoint '"+e+"()'. The window.Promise() object does not exist.")}}function f(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}function h(){r=1,"object"==typeof n.seo&&"object"==typeof n.seo.delayScriptLoad&&!0===n.seo.delayScriptLoad.enabled?"complete"===document.readyState?p():window.addEventListener("load",p):b()}function p(){var e=0;"number"==typeof n.seo.delayScriptLoad.delay&&(e=n.seo.delayScriptLoad.delay),setTimeout(b,e)}function b(){a?"function"==typeof window.QuiqWebChatShim?w():function(e,t){var n,o=e.length;function i(){--o<=0&&t()}for(n=0;n<o;n++)l(e[n],i)}([function(){var e=Array.from(document.getElementsByTagName("script")),t=["goquiq.com/app/webchat","quiq-api.com/app/webchat","quiq.sh/app/webchat","centricient.com/app/webchat","centricient.corp/app/webchat","quiq.dev:7000/app/webchat","quiq.dev:3000/app/webchat","quiq.dev:3100/app/chat","centricient.dev:7000/app/webchat","quiq.dev:41014/app/webchat","centricient.dev:41014/app/webchat","ngrok.io/app/webchat"],n=e.find((function(e){return!(!e.src||!t.find((function(t){return e.src.toLowerCase().includes(t)})))}));if(!n)return console.log("Unable to locate Quiq script tag for determining chat host.");var o=n.src;return o.slice(0,o.indexOf("/app/webchat"))}()+"/app/chat-ui/shim-webchat-main.js"],(function(){console.log("shim loaded"),w()})):"function"==typeof window.QuiqWebChat?g():function(e,t){var n,o=e.length;function i(){--o<=0&&t()}for(n=0;n<o;n++)l("https://static.quiq-cdn.com"+e[n]+"-1.8.114-b70c9a9e.js",i)}(["/webchat/common-core","/webchat/common-icons","/webchat/common-dependencies","/webchat/common-webchat","/webchat/sdk"],g)}function w(){var e=window.QuiqWebChatShim(n);console.log("quiq instance",e),"object"==typeof t&&null!==t||(t=e),e.on("sdkInitialized",(function(){r=0;for(var e=0;e<o.length;e++)s(o[e]);o=[]}))}function g(){var e=window.QuiqWebChat(n);"object"==typeof t&&null!==t||(t=e),e.on("sdkInitialized",(function(){r=0;for(var e=0;e<o.length;e++)s(o[e]);o=[]}))}return i={cdn:"https://static.quiq-cdn.com"},e=function(e){var r;if(u)throw new Error("Quiq Bootloader: Unable to initialize. It has already been initialized for the page.");var l,s=(l={},window.location.search.replace("?","").split("&").forEach((function(e){var t,n,o;n=(t=e.split("="))[0],"string"==typeof t[1]&&(o=decodeURIComponent(t[1])),l[n]=o})),l),p=s.quiqNewChat&&"true"===s.quiqNewChat.toLowerCase();return u=1,n=e,o=[],a=p||"boolean"==typeof e.useNewChat&&e.useNewChat,c=0,n._bootloader=i,a&&s.quiqForceChatAvailable&&"true"===s.quiqForceChatAvailable.toLowerCase()&&(n.enforceAgentAvailability=!1),"loading"!==document.readyState?h():window.addEventListener("DOMContentLoaded",h),r={toggle:function(){d("toggle",f(arguments),1)},setChatVisibility:function(){d("setChatVisibility",f(arguments),1)},setChatRegistrationField:function(){d("setChatRegistrationField",f(arguments),1)},setInitialMessage:function(){d("setInitialMessage",f(arguments),1)},setLauncherIconOrUrl:function(){d("setLauncherIconOrUrl",f(arguments),1)},setChatContext:function(){d("setChatContext",f(arguments),1)},setConversationStarterState:function(){d("setConversationStarterState",f(arguments),1)},clearUserSession:function(){d("clearUserSession",f(arguments),1)},getQuiqOptions:function(){return d("getQuiqOptions",f(arguments))},getChatVisibility:function(){return d("getChatVisibility",f(arguments))},getAgentAvailability:function(){return d("getAgentAvailability",f(arguments))},getHandle:function(){return d("getHandle",f(arguments))},getAvailablePlatforms:function(){return d("getAvailablePlatforms",f(arguments))},getChatStatus:function(){return d("getChatStatus",f(arguments))},getIsSupportedBrowser:function(){return d("getIsSupportedBrowser",f(arguments))},on:function(){d("on",f(arguments),1)},unload:function(){var e=d("unload",f(arguments)).then((function(){t=null,u=0}));return c=1,e},reinitialize:function(){var e=f(arguments);return e.length>0&&(e[0]._bootloader=i),d("reinitialize",e).then((function(e){return t=e,e}))}},r},e},__quiq__={};
//# sourceMappingURL=bootloader-1.8.114-b70c9a9e.js.map